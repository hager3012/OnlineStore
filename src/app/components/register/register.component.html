<section class="w-75 mx-auto py-4 ">
  <div class="container">
    <div class="row">
      <div class="col">
          <form [formGroup]="registerForm" class="p-5 pb-3 text-center w-100" (submit)="registerHandle(registerForm)">
            <h1 class="text-larg text-center"><span class="text-primary">R</span>igster</h1>
            <mat-form-field class=" ms-3 w-100 mt-5" appearance="outline">
              <mat-label class="label-place f">Name</mat-label>
              <input
                type="text"
                matInput
                formControlName="name"
                placeholder="hager shaban"
              />
              <mat-error *ngIf="registerForm.get('name')?.hasError('required')">
                Name is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field class="w-100 ms-3 " appearance="outline">
              <mat-label class="label-place">Email</mat-label>
              <input
                type="email"
                matInput
                formControlName="email"
                placeholder="Ex. pat@example.com"
                class="w-100"
              />
              <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
                Please enter a valid email address
              </mat-error>
              <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
                Email is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field class="w-100 ms-3" appearance="outline">
              <mat-label>Enter your password</mat-label>
              <input
                matInput
                [type]="hide ? 'password' : 'text'"
                formControlName="password"
              />
              <button
                type="button"
                mat-icon-button
                matSuffix
                (click)="hide = !hide"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide"
                class="btn "
              >
                <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
              </button>

              <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
                password is <strong>required</strong>
              </mat-error>
              <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
                password min length is 6
              </mat-error>

            </mat-form-field>
            <mat-form-field class="w-100 ms-3" appearance="outline">
              <mat-label>Enter your rePassword</mat-label>
              <input
                matInput
                [type]="hiderepassword ? 'password' : 'text'"
                formControlName="rePassword"
              />
              <button
                type="button"
                mat-icon-button
                matSuffix
                (click)="hiderepassword = !hiderepassword"
                [attr.aria-label]="'Hide rePassword'"
                [attr.aria-pressed]="hiderepassword"
                class="btn "
              >
                <mat-icon>{{ hiderepassword ? "visibility_off" : "visibility" }}</mat-icon>
              </button>

              <mat-error *ngIf="registerForm.get('rePassword')?.hasError('required')">
                rePassword is <strong>required</strong>
              </mat-error>
              <mat-error *ngIf="registerForm.get('rePassword')?.hasError('minlength')">
                rePassword min length is 6
              </mat-error>
              <mat-error *ngIf="registerForm.get('rePassword')?.hasError('confirmedValidator')">
                password and rePassword not Match
              </mat-error>
            </mat-form-field>
            <mat-form-field class="w-100 ms-3" appearance="outline">
              <mat-label class="label-place">Phone</mat-label>
              <input
                type="tel"
                matInput
                formControlName="phone"
              />
              <mat-error *ngIf="registerForm.get('phone')?.hasError('required')">
                Phone is <strong>required</strong>
              </mat-error>
              <mat-error *ngIf="registerForm.get('phone')?.hasError('pattern')">
                Phone is invalid
              </mat-error>
            </mat-form-field>
            <mat-error *ngIf="massError" class="mt-3">
              {{massError}}
            </mat-error>
          <button class="p-0 text-center w-50 btn bg-main text-light"
          [disabled]="registerForm.invalid"
          [ngClass]="{'opacity-50': registerForm.invalid,'opacity-100': registerForm.valid}"
              mat-raised-button>
            <p *ngIf="!isLoading" class="me-4 ms-4 mt-2 mb-2">Sign Up</p>
            <div *ngIf="isLoading" class="spinner-border" role="status">
              <span class="sr-only"></span>
            </div>
          </button>
          <div class="text-start my-3 ">
            <h2>Already have an account <a routerLink="/login" class="text-primary text-decoration-none "> Login Now</a></h2>
          </div>
          </form>
      </div>
    </div>
  </div>
  </section>
